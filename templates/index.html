<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>GrabScreen ‚Äì Free Online Screen Recorder | Record, Trim, Share | No Login & Signup</title>
  <meta name="description" content="GrabScreen is a free, fast, and private online screen recorder. Record your screen instantly without installing anything. Save, trim, share, or embed videos in one click." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="canonical" href="{{ request.url_root }}" />
  <meta property="og:title" content="GrabScreen ‚Äì Free Online Screen Recorder" />
  <meta property="og:image" content="{{ url_for('static', filename='logo.png') }}" />
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}" />
  
  <!-- Icons & Fonts -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  <!-- NEW: Add noUiSlider library for the advanced trimmer -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.css" integrity="sha512-qveKnGrvOEXMBgVNQ5RIUBfTTCNCHkCxCGBcCQIiGsovNcCrhexxUaRTiLpQusEa//WMrB2s9oEkIiryURb6Mg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
</head>

<body>
<main class="card fade-in">
  <!-- ... (logo and theme toggle are unchanged) ... -->
  <div id="logoBrand">
    <img src="{{ url_for('static', filename='logo.png') }}" alt="GrabScreen Logo" />
  </div>
  <button id="themeToggle" class="theme-toggle" title="Toggle Theme"><i class="fa-solid"></i></button>

  <div id="recorderView">
    <h1>üñ•Ô∏è Online Screen Recorder</h1>
    <div class="recorder-controls">
      <button id="startBtn" class="btn start"><i class="fa-solid fa-circle-play"></i> Start Recording</button>
      <button id="stopBtn" class="btn stop" disabled><i class="fa-solid fa-stop"></i> Stop Recording</button>
    </div>
    <p id="statusMsg"></p>
    <div id="previewArea" class="hidden">
      <video id="preview" controls></video>
      <div id="actionsPanel"></div>
    </div>

    <!-- UPDATED: The new advanced clip panel -->
    <section id="clipPanel" class="panel hidden">
      <div class="panel-header">
        <h2><i class="fa-solid fa-scissors"></i> Trim Clip</h2>
        <button id="clipCancel" class="btn-close" title="Close">√ó</button>
      </div>
      <div class="trim-slider-wrapper">
        <div class="time-readout" id="trim-start-time">00:00</div>
        <div id="trim-slider"></div>
        <div class="time-readout" id="trim-end-time">00:00</div>
      </div>
      <div class="panel-actions">
        <button id="clipGo" class="btn share"><i class="fa-solid fa-share-nodes"></i> Create & Share Clip</button>
      </div>
    </section>

    <!-- ... (rest of the recorderView is unchanged) ... -->
    <div class="session-controls">
      <button id="resumeBtn" class="btn hidden"><i class="fa-solid fa-clock-rotate-left"></i> My Recordings</button>
      <button id="forgetSession" class="btn cancel hidden"><i class="fa-solid fa-user-slash"></i> Forget My Session</button>
    </div>
    <section id="filesPanel" class="hidden">
      <h2>Your Recordings</h2>
      <div id="mediaGrid" class="grid-container"></div>
    </section>
  </div>

  <!-- ... (info panels, dialog, and footer are unchanged) ... -->
  <section id="privacyView" class="info-panel hidden">
    <button class="btn back-btn"><i class="fa-solid fa-arrow-left"></i> Back to Recorder</button>
    <h1>Privacy Policy</h1>
    <p><strong>Last Updated: {{ year }}</strong></p>
    <p>Your privacy is important to us. This Service is designed to be private and secure.</p>
    <h2>Information We Collect</h2>
    <ul>
      <li><strong>Video Recordings:</strong> The recordings you create are uploaded to our servers and associated with an anonymous session token stored in your browser.</li>
      <li><strong>Session Token:</strong> We use a cookie ("magic_token") to anonymously identify your browser session so you can access your recordings on a return visit.</li>
      <li><strong>Email Address (Optional):</strong> If you use the "Email" feature, we use it solely to send the recording link. We do not store or sell this email.</li>
    </ul>
    <h2>Data Storage and Deletion</h2>
    <p>You can delete individual recordings at any time. Forgetting a session removes the link between your browser and your files, but the files themselves are not automatically deleted at that time.</p>
  </section>
  <section id="contactView" class="info-panel hidden">
    <button class="btn back-btn"><i class="fa-solid fa-arrow-left"></i> Back to Recorder</button>
    <h1>Contact Us</h1>
    <p>If you have any questions, feedback, or concerns, please feel free to reach out.</p>
    <p>The best way to contact us is via email:</p>
    <p style="text-align: center; font-size: 1.2rem; margin: 2rem 0;">
      <a href="mailto:your-email@example.com">your-email@example.com</a>
    </p>
  </section>
  <dialog id="emailModal">
    <h2><i class="fa-solid fa-envelope"></i> Send Recording</h2>
    <label>To (email): <input id="emailTo" type="email" placeholder="example@domain.com" required /></label>
    <button id="emailSend" class="btn share"><i class="fa-solid fa-paper-plane"></i> Send</button>
    <button id="emailClose" class="btn cancel" formmethod="dialog">Cancel</button>
    <div id="emailStatus"></div>
  </dialog>
  <footer class="site-footer">
    <p>¬© {{ year }} GrabScreen. All rights reserved.</p>
    <p>
      <a href="#" id="showPrivacyLink">Privacy Policy</a> | 
      <a href="#" id="showContactLink">Contact</a>
    </p>
  </footer>
</main>

<!-- NEW: Add noUiSlider JS library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js" integrity="sha512-UOJe4paV6hYWBnS0c9GnIRH8PLm2nFK22uhfAvsTIqd3uwnAadVayZJFuGOBL3v0+IZgDCgQA7STRsTt11I92g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="{{ url_for('static', filename='js/main.js') }}" defer></script>
<script>
  // Theme Toggler Script (no changes)
  const themeToggleBtn = document.getElementById('themeToggle');
  const icon = themeToggleBtn.querySelector('i');
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const savedTheme = localStorage.getItem('theme');
  const setTheme = theme => {
    document.body.classList.remove('light', 'dark');
    document.body.classList.add(theme);
    icon.className = theme === 'dark' ? 'fa-solid fa-sun' : 'fa-solid fa-moon';
    localStorage.setItem('theme', theme);
  };
  setTheme(savedTheme || (prefersDark ? 'dark' : 'light'));
  themeToggleBtn.onclick = () => {
    const current = document.body.classList.contains('dark') ? 'dark' : 'light';
    setTheme(current === 'dark' ? 'light' : 'dark');
  };
</script>
</body>
</html>
